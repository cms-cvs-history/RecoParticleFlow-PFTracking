include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
replace TrackRefitter.TrajectoryInEvent = true
include "RecoParticleFlow/PFTracking/data/GsfForPreId.cff"
include "RecoParticleFlow/PFTracking/data/ElecPreId.cfi"
include "TrackingTools/GsfTracking/data/CkfElectronCandidates.cff"

module gsfElCandidates =  ckfTrackCandidates from "RecoTracker/CkfPattern/data/CkfTrackCandidates.cfi"
replace gsfElCandidates.TrajectoryBuilder    = "CkfElectronTrajectoryBuilder"
replace gsfElCandidates.SeedProducer = "elecpreid"
replace gsfElCandidates.SeedLabel = "SeedsForGsf"
module gsfPFtracks = GsfElectrons from "TrackingTools/GsfTracking/data/GsfElectronFit.cfi"
replace gsfPFtracks.src ="gsfElCandidates"
replace gsfPFtracks.TrajectoryInEvent = true
include "RecoParticleFlow/PFTracking/data/pfTrackElec.cfi"

sequence TkBasedId={TrackRefitter,elecpreid,gsfElCandidates,gsfPFtracks,pfelectk}
