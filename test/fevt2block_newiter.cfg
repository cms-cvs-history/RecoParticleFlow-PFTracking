process BLOCK = {
    
    untracked PSet maxEvents = {untracked int32 input = 10}
    
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "Configuration/StandardSequences/data/FakeConditions.cff" 
    
 
    replace particleFlowCluster.verbose     = true
    replace particleFlowBlock.verbose       = true
    replace particleFlowSimParticle.verbose = true
    

    #service = Timing { }

    source = PoolSource {
	untracked vstring fileNames = {
	'/store/relval/2008/2/11/RelVal-RelValTTbar-1202721222/0000/06D6FF94-F0D8-DC11-8AC0-000423D9939C.root'}
    }
    

    service = MessageLogger  {
	untracked vstring destinations   = { "pippo" }

	untracked PSet pippo = { 
	    untracked string threshold = "INFO"
	    
	} 
    }

    ###############################
    #output module:
    module dump = EventContentAnalyzer {}
    module GEN-SIM-DIGI-RECO = PoolOutputModule
    {
	untracked string fileName = "blocks.root" 
	untracked vstring outputCommands = 
	{
            "drop *",
            "keep recoPFRecHits_*_*_*",
            "keep recoPFClusters_*_*_*",
            "keep recoPFRecTracks_*_*_*",
	    "keep recoPFBlocks_particleFlowBlock_*_*",
            "keep recoPFSimParticles_*_*_*",
            "keep recoTracks_*_*_*",
	    "keep recoCaloJets_*_*_*",
            "keep CaloTowersSorted_*_*_*",
	    "keep edmHepMCProduct_*_*_*"
	}
    }
    include "RecoTracker/IterativeTracking/data/iterativeTk.cff"
    replace elecpreid.TkColList={
	highPurityTracks:,secStep:,thStep:
    }
    sequence newiterativeTk ={newTracking,iterTracking}

    ###############################
    # module dump = EventContentAnalyzer {}

    path p = { 
#	dump,
	newiterativeTk,
	caloTowersPFRec,
	particleFlowCluster,
	particleFlowTrack,
	particleFlowSimParticle,
	particleFlowBlock
    }

    endpath outpath = {GEN-SIM-DIGI-RECO}	

}
